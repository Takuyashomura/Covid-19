{"version":3,"sources":["models/covid19Data.js","actions/dataActionCreator.js","reducers/dataReducer.js","reducers/index.js","store/index.js","components/Home/Home.jsx","App.js","index.js"],"names":["data","confirmed","deths","recovered","active","date","this","_confirmed","_deths","_recovered","_active","_date","dataList","map","covid19Data","Confirmed","Deaths","Recovered","Active","Date","fetchDataRequest","type","fetchDataSucces","fetchDataFailur","error","initialState","isLoading","dataReducer","state","action","rootReducer","combineReducers","dataInfo","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","middleware","thunk","store","createStore","applyMiddleware","Home","props","dataIndex","renderData","fetchData","length","renderDataRequest","renderDataResult","beforeDay","comparisonComfirmed","comparisonDeths","comparisonRecovered","className","React","Component","mapDispatchToProps","dispatch","a","axios","get","response","results","dataModel","createInstance","connect","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.3995de8c.chunk.js","sourcesContent":["import dataFetcher from '../covid19DataFetcher/dataFetcher';\nimport he from 'he';\n\nclass data {\n    constructor({confirmed, deths, recovered, active, date}){\n\n        this._confirmed = confirmed;\n        this._deths = deths;\n        this._recovered = recovered;\n        this._active = active;\n        this._date = date;\n    }\n\n    get confirmed(){\n        return this._confirmed;\n    };\n\n    get deths(){\n        return this._deths;\n    };\n\n    get recovered(){\n        return this._recovered;\n    };\n\n    get active(){\n        return this._active;\n    };\n\n    get date(){\n        return this._date;\n    };\n\n    static createInstance( dataList ){\n        return dataList.map( covid19Data => {\n            return{\n                confirmed: covid19Data.Confirmed,\n                deths: covid19Data.Deaths,\n                recovered: covid19Data.Recovered,\n                active: covid19Data.Active,\n                date: covid19Data.Date\n            }\n        })\n        .map( covid19Data => {\n           return new data( covid19Data );\n        })\n    };\n};\n\nexport default data;","import axios from 'axios';\nimport dataModel from '../models/covid19Data';\n\nconst API_URL = 'https://api.covid19api.com/total/dayone/country/japan';\n\nexport const FETCH_DATA_REQUEST = 'FETCH_DATA_REQUEST';\nexport const FETCH_DATA_SUCCES = 'FETCH_DATA_SUCCES';\nexport const FETCH_DATA_FALUR = 'FETCH_DATA_FALUR';\n\nexport const fetchData = () => {\n    return async ( dispatch ) => {\n        dispatch( fetchDataRequest() );\n        try{\n            const response = await axios.get(API_URL);\n            const results = response.data;\n            const data = dataModel.createInstance( results );\n            dispatch( fetchDataSucces( data ) );\n        } catch ( error ){\n            dispatch( fetchDataFailur( error ) );\n        }\n    }\n};\n\nconst fetchDataRequest = () => {\n    return {\n        type: FETCH_DATA_REQUEST\n    };\n};\n\nconst fetchDataSucces = ( data ) => {\n    return {\n        type: FETCH_DATA_SUCCES,\n        data\n    };\n};\n\nconst fetchDataFailur = ( error ) => {\n    return {\n        type: FETCH_DATA_FALUR,\n        error\n    };\n};\n\n","import { \n        FETCH_DATA_REQUEST,\n        FETCH_DATA_SUCCES,\n        FETCH_DATA_FALUR\n} from '../actions/dataActionCreator';\n\nconst initialState = {\n    isLoading: false,\n    data: [],\n    error: null\n};\n\nexport const dataReducer = (state = initialState, action) =>{\n    switch( action.type )  {\n        case FETCH_DATA_REQUEST:\n            return{\n                ...state,\n                isLoading: true\n            };\n        \n        case FETCH_DATA_SUCCES:\n            return{\n                ...state,\n                isLoading: false,\n                data: action.data,\n                error: null\n            };\n\n        case FETCH_DATA_FALUR:\n            return{\n                ...state,\n                isLoading: false,\n                data: [],\n                error: action.error\n            };\n        \n        default: \n        return state;\n}\n}\n\nexport default dataReducer;","import { combineReducers } from 'redux';\nimport dataReducer from './dataReducer';\n\nconst rootReducer = combineReducers({\n    dataInfo: dataReducer\n});\n\nexport default rootReducer;","import { compose, createStore, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport rootReducer from '../reducers/index';\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst middleware = [ thunk ];\nconst store = createStore(\n    rootReducer,\n    composeEnhancers(\n        applyMiddleware(...middleware)\n    )\n);\n\nexport default store;","import React from 'react';\nimport { fetchData } from '../../actions/dataActionCreator';\nimport { connect } from 'react-redux';\nimport '../../models/covid19Data';\nimport './Home.css';\n\nclass Home extends React.Component{\n    constructor( props ) {\n        super(props)\n\n        this.state = {\n            dataIndex: 0,\n        }\n    }\n\n    componentDidMount(){\n      this.renderData();\n    };\n\n    renderData(){\n        this.props.fetchData();\n    }\n\n    render(){\n        const { data } = this.props.dataInfo;\n        if( data.length === 0 ){\n            return this.renderDataRequest();\n        }\n        if( data.length > 0 ){\n\n            return this.renderDataResult();\n        }\n    }\n\n    renderDataRequest(){\n        return (\n            <div>\n                <p>データ取得中...</p>\n            </div>\n        )\n    }\n\n\n    renderDataResult(){\n        const { data } = this.props.dataInfo;\n        const covid19Data = data[ data.length - 1];\n\n        const beforeDay = data[ data.length -2 ];\n        const comparisonComfirmed = covid19Data.confirmed - beforeDay.confirmed;\n        const comparisonDeths = covid19Data.deths - beforeDay.deths;\n        const comparisonRecovered = covid19Data.recovered - beforeDay.recovered;\n\n        return (\n            <div>\n                <h1>日本国内「新型コロナウィルス」感染状況</h1>\n                <h2>{ covid19Data.date }</h2>\n                <div className=\"container\">\n                <h2>感染者合計数</h2><p> { covid19Data.confirmed } </p><small className=\"red\">+{comparisonComfirmed}</small>\n                </div>\n                <div className=\"container\">\n                <h2>死者数</h2><p>{ covid19Data.deths }</p> <small className=\"red\">+{comparisonDeths}</small>\n                </div>\n                <div className=\"container\">\n                <h2>退院者数</h2><p> { covid19Data.recovered }</p> <small className=\"green\">+{comparisonRecovered}</small>\n                </div>\n                <div className=\"container\">\n                <h2>現在の感染者数</h2> <p>{ covid19Data.active }</p>\n                </div>\n            </div>\n        )\n    }\n\n}\n\nconst mapStateToProps = ( state ) => {\n    return {\n        dataInfo: state.dataInfo\n    }\n};\n\nconst mapDispatchToProps = { fetchData };\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)( Home );","import React from 'react';\nimport Home from './components/Home/Home';\nimport './App.css';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Home/>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport store from './store/index';\nimport App from './App';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App/>\n  </Provider>,\n  document.getElementById('root')\n);"],"sourceRoot":""}